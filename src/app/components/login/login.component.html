<div class="w-75 mx-auto py-4">
  <h4>Login Now :</h4>
  @if (apiError!='') {
  <div class="alert alert-danger">{{ apiError }}</div>

  }
  <form (ngSubmit)="handleLogin(loginForm)" [formGroup]="loginForm">
    <label for="email">Email:</label>
    <input
      formControlName="email"
      type="email"
      class="form-control mb-2"
      id="email"
    />
    @if (loginForm.get("email")?.errors && loginForm.get("email")?.touched) {
    <div class="alert alert-danger">
      @if (loginForm.get("email")?.getError("email")) {
      <p class="m-0">Email is not available</p>
      } @else if (loginForm.get("email")?.getError("required")) {
      <p class="m-0">Email is Required</p>
      }
    </div>
    }
    <label for="password">Password:</label>
    <input
      formControlName="password"
      type="password"
      class="form-control mb-2"
      id="password"
    />
    @if (loginForm.get("password")?.errors &&
    loginForm.get("password")?.touched) {
    <div class="alert alert-danger">
      @if (loginForm.get("password")?.getError("pattern")) {
      <p class="m-0">
        Password must start with uppercase then from 3 to 10 characters
      </p>
      } @else if (loginForm.get("password")?.getError("required")) {
      <p class="m-0">Password is Required</p>
      }
    </div>
    }

    <button
      [disabled]="loginForm.invalid"
      type="submit"
      class="btn d-block bg-main border-none border-0 text-white me-auto"
    >
      @if (isLoading) {
      <i class="fas fa-spinner fa-spin"></i>

      }@else {
      <span>Login</span>

      }
    </button>
  </form>
</div>
